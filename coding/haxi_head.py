#!/usr/bin/env python# -*- coding: utf-8 -*-# @Time    : 2018/5/27 上午10:06# @Author  : ziyi# @File    : haxi_head.py# @Software: PyCharmfrom selenium import webdriverimport timeimport datetimeimport China_time as adef get_price2():    url2 = 'https://www.btc123.com/'    deadline_time = time.strftime("截止%d日%H点%M分", time.localtime(time.time()))    driver = webdriver.Chrome(executable_path=r'/Users/lvzeqin/Applications/chromedriver')    driver.set_page_load_timeout(30)    driver.get(url2)    time.sleep(2)    price = driver.find_element_by_xpath('//*[@id="huobibtcusdt"]/td[3]/a[3]').text    driver.close()    btc_price = deadline_time + '，' + '比特币价格为：{}。'.format(price)    # print(btc_price)    return btc_pricedef get_price3():    # BitKan 官网的数据    url3 = 'http://bitkan.com/'    driver = webdriver.Chrome(executable_path=r'/Users/lvzeqin/Applications/chromedriver')    driver.set_page_load_timeout(30)    driver.get(url3)    time.sleep(5)    driver.execute_script('window.scrollTo(0, document.body.scrollHeight*0.3)')    time.sleep(2)    driver.find_element_by_xpath('//*[@id="price-component"]/ul/li[2]/a').click()    time.sleep(5)    price = driver.find_element_by_xpath('//*[@id="price-component"]/div/table/tbody/tr[1]/td[2]/span[2]').text    driver.close()    nowtime = datetime.datetime.now()    # deadline_time = time.strftime("截止%d日%H点%M分", time.localtime(time.time()))    deadline_time = '截止{}日{}点{}分'.format(nowtime.day, str(nowtime.time()).split(':')[0], str(nowtime.time()).split(':')[1])    btc_price = deadline_time + '，' + '比特币价格为：{}。'.format(price) + '\n'    print(btc_price)    return btc_pricedef get_time():    d = datetime.datetime.now()    print(str(d).split(' ')[-1].split(':')[0],int(str(d.time()).split(':')[0]))    if int(str(d.time()).split(':')[0]) >= 0 and int(str(d.time()).split(':')[0]) <= 10:        nowday = datetime.date.today()        today = '今天是{}年{}月{}日'.format(nowday.year, nowday.month, nowday.day)        China_time = a.test()        # print(today, China_time)    else:        nowday  = datetime.date.today() + datetime.timedelta(days=1)        today = '今天是{}年{}月{}日'.format(nowday.year, nowday.month, nowday.day)        China_time = a.test()        # print(today,China_time)    # today = time.strftime('今天是%Y年%m月%d日', time.localtime(time.time()))    week = nowday.weekday()    if week == 0:        week = '一'    elif week == 1:        week = '二'    elif week == 2:        week = '三'    elif week == 3:        week = '四'    elif week == 4:        week = '五'    elif week == 5:        week = '六'    elif week == 6:        week = '日'    week_day = '星期'+week    print(today, '星期'+week)    # print(China_time)    return today, week_day, China_timedef head_content():    # url = 'https://www.btctrade.com/btc/'    # btc_price = get_price3()    today, week_day, China_time = get_time()    haxi_head_content = '【哈希早闻】' + '\n' + today + '，' + week_day + '，' + China_time + '\n'    # print(haxi_head_content)    return haxi_head_contentif __name__ == '__main__':    # get_price3()    head_content()